<div>
    <p>Chúng ta sẽ tạo set <span class="tex-span"><i>comp</i></span>, trong đó chúng ta sẽ lưu trữ tất cả các thành phần
        từ các đoạn. Mỗi thành phần được đặc trưng bởi điểm đầu tiên của đoạn nằm trong nó và điểm cuối cùng của đoạn
        nằm trong nó.</p>
    <p>Bây giờ chúng ta sẽ xử lý các đoạn theo thứ tự thêm vào. Giả sử đoạn hiện tại được xác định bởi cặp <span
            class="tex-span">(<i>l</i>, <i>r</i>)</span>. Khi đó cần tìm trong set tất cả các thành phần của các đoạn mà
        nó giao nhau. Để làm điều này, chúng ta sẽ tìm trong <span class="tex-span"><i>comp</i></span> bằng <span
            class="tex-span"><i>lower</i>_<i>bound</i>(<i>make</i>_<i>pair</i>(<i>l</i>,  - 1))</span> iterator <span
            class="tex-span"><i>it</i></span>, trỏ vào thành phần có biên trái nhỏ nhất, có thể giao với đoạn hiện tại.
        Nếu <span class="tex-span"><i>it</i></span> không bằng đầu của <span class="tex-span"><i>comp</i></span> thì
        giảm nó một đơn vị, vì có thể có thành phần bắt đầu trái hơn <span class="tex-span"><i>l</i></span>, nhưng giao
        với đoạn hiện tại.</p>
    <p>Bây giờ chúng ta sẽ tăng <span class="tex-span"><i>it</i></span> cho đến khi nó bằng <span
            class="tex-span"><i>comp</i>.<i>end</i>()</span> hoặc cho đến khi chúng ta gặp ít nhất hai thành phần không
        giao nhau với đoạn hiện tại. Chúng ta sẽ gom tất cả các thành phần giao với đoạn hiện tại vào vector <span
            class="tex-span"><i>inter</i></span>.</p>
    <p>Sau khi hoàn thành việc duyệt qua <span class="tex-span"><i>comp</i></span> cần xóa khỏi <span
            class="tex-span"><i>comp</i></span> tất cả các thành phần đã nằm trong vector <span
            class="tex-span"><i>inter</i></span> (vì đoạn hiện tại đã hợp nhất chúng thành một), và thêm vào <span
            class="tex-span"><i>comp</i></span> một thành phần mới, biên trái là nhỏ nhất trong tất cả các biên trái của
        vector <span class="tex-span"><i>inter</i></span> và biên trái của đoạn hiện tại <span
            class="tex-span"><i>l</i></span>, còn biên phải là lớn nhất trong tất cả các biên phải của vector <span
            class="tex-span"><i>inter</i></span> và biên phải của đoạn hiện tại <span class="tex-span"><i>r</i></span>.
    </p>
    <p>Sau khi xử lý đoạn tiếp theo cần xuất ra kích thước của <span class="tex-span"><i>comp</i></span>, vì đó chính là
        số lượng thành phần của các đoạn đen cần tìm.</p>
</div>